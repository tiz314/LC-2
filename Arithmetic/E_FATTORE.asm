; Definisci se numero divisibile o meno
	.ORIG	X3000
	LD	R0,A
	LD	R1,B
	JSR	E_FATTORE
END	BRNZP	END

A 	.FILL	-27
B	.FILL	5


; INIZIO SUBP

E_FATTORE	
	NOT	R1,R1
	ADD	R1,R1,#1

	ADD	R0,R0,#0
	BRZ	SI
	BRP	SOT
	NOT	R0,R0
	ADD	R0,R0,#1

SOT	ADD	R0,R0,#0
	BRZ	SI
	BRN	NO
	ADD	R0,R0,R1
	BRNZP	SOT

SI	AND	R0,R0,#0
	BRNZP 	RESTORE

NO	AND	R0,R0,#0
	ADD	R0,R0,#-1
RESTORE RET	

; FINE SUBP

	.END