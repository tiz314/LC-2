	.ORIG	x3000
	LD	R0,A
	LD	R1,B
	JSR	ANALIZZA_COPPIA
END	BRNZP	END

A	.FILL	-16000
B	.FILL	-20000

ANALIZZA_COPPIA
	ST	R3,BK3
	ST	R4,BK4
	ST	R5,BK5
	ST	R6,BK6

	AND	R3,R3,#0
	AND	R4,R4,#0
	AND	R5,R5,#0

	ADD	R0,R0,#0
	BRZP	A_POS
; qui a negativo
	ADD	R1,R1,#0
	BRZP	A_NEG_B_POS
; qui b negativo
	NOT	R1,R1
	ADD	R1,R1,#1
	ADD	R6,R1,R0
	BRP	SECONDO_MAG_CONC_NEG
CHECK_OVER_NEG
	NOT	R1,R1
	ADD	R1,R1,#1
	ADD	R1,R1,R0
	BRP	OVER
	BRNZP	FINE
	
A_NEG_B_POS
	ADD	R3,R3,#1
	ADD	R6,R0,R1
	BRZP	SECONDO_MAG
	BRNZP	FINE


SECONDO_MAG
	ADD	R4,R4,#1
	BRNZP	FINE

SECONDO_MAG_CONC_NEG
	ADD	R4,R4,#1
	BRNZP	CHECK_OVER_NEG

OVER	ADD	R5,R5,#1
	BRNZP	FINE


A_POS	ADD	R1,R1,#0
	BRZP	A_POS_B_POS
; qui a positivo ma b negativo
	ADD	R3,R3,#1
	ADD	R6,R0,R1
	BRN	SECONDO_MAG
	BRNZP	FINE

A_POS_B_POS
	NOT	R1,R1
	ADD	R1,R1,#1
	ADD	R6,R1,R0
	BRN	SECONDO_MAG_CONC_POS
CHECK_OVER_POS
	NOT	R1,R1
	ADD	R1,R1,#1
	ADD	R1,R1,R0
	BRN	OVER
	BRNZP	FINE

SECONDO_MAG_CONC_POS
	ADD	R4,R4,#1
	BRNZP	CHECK_OVER_POS	

FINE	ADD	R0,R3,#0
	ADD	R1,R4,#0
	ADD	R2,R5,#0
	LD	R3,BK3
	LD	R4,BK4
	LD	R5,BK5
	LD	R6,BK6
	RET

BK3	.BLKW	1	; discordi o concordi
BK4	.BLKW	1	; maggiore o minore
BK5	.BLKW	1	; traboccamento
BK6	.BLKW	1

	.END