; Conta cifre
	.ORIG	x3000
	LEA	R0,S
	JSR	CONTA_CIFRE
END	BRNZP	END

S	.STRINGZ "Antani314abc"

; inizio subp

CONTA_CIFRE
	ST	R1,BK1
	ST	R2,BK2
	ST	R3,BK3

	AND	R3,R3,#0
	
CHECK	LDR	R1,R0,#0
	BRZ	FINE
	LD	R2,MIN
	ADD	R1,R1,R2
	BRN	CONT
	LDR	R1,R0,#0
	LD	R2,MAX
	ADD	R1,R1,R2
	BRP	CONT
	ADD	R3,R3,#1
CONT	ADD	R0,R0,#1
	BRNZP	CHECK

FINE	ADD	R0,R3,#0
	LD	R1,BK1	
	LD	R2,BK2
	LD	R3,BK3
	RET


MIN	.FILL	#-48
MAX	.FILL	#-57
BK1	.BLKW	1
BK2	.BLKW	1
BK3	.BLKW	1
; fine subp

	.END