; Conta pari dispari
	.ORIG	x3000
	LEA	R0,AR_I
	LEA	R1,AR_F
	JSR	CONTA_PARI_DISPARI
END	BRNZP	END

AR_I	.FILL	112
	.FILL	-27
	.FILL	-1232
	.FILL	450
	.FILL	15
AR_F	.FILL	120
	

; inizio subp

CONTA_PARI_DISPARI
	ST	R2,BK2
	ST	R3,BK3
	ST	R4,BK4
	
	AND	R2,R2,#0
	AND	R3,R3,#0
	
	NOT	R1,R1
	ADD	R1,R1,#1

CHECK	ADD	R4,R0,R1
	BRP	FINE

	LDR	R4,R0,#0
	AND	R4,R4,#1
	BRZ	PARI
	ADD	R3,R3,#1
CONT	ADD	R0,R0,#1
	BRNZP	CHECK


PARI	ADD	R2,R2,#1
	BRNZP	CONT


FINE	ADD	R0,R2,#0
	ADD	R1,R3,#0
	LD	R2,BK2
	LD	R3,BK3
	LD	R4,BK4
	RET

BK2	.BLKW	1
BK3	.BLKW	1
BK4	.BLKW	1
; Fine subp

	.END