	.ORIG	x3000
	LEA	R0,I
	LEA	R1,F
	LEA	R2,S	
	JSR	SEGNO_ARRAY
END	BRNZP	END

I	.FILL	1
	.FILL	-3
	.FILL	0
	.FILL	-121
F	.FILL	90
S	.BLKW	5
	
; inizio subp

SEGNO_ARRAY
	ST	R3,BK3
	ST	R4,BK4
	ST	R5,BK5
	ST	R6,BK6
	
	AND	R4,R4,#0
	AND	R5,R5,#0
	AND	R6,R6,#0
	
	NOT	R1,R1
	ADD	R1,R1,#1
	
CHECK	ADD	R3,R0,R1
	BRP	FINE
	LDR	R3,R0,#0
	BRP	POS
	BRZ	NULL
; Qui negativo
	ADD	R6,R6,#1
	AND	R3,R3,#0
	ADD	R3,R3,#-1
	STR	R3,R2,#0
CONT	ADD	R0,R0,#1
	ADD	R2,R2,#1
	BRNZP	CHECK

POS	ADD	R4,R4,#1
	AND	R3,R3,#0	
	ADD	R3,R3,#1
	STR	R3,R2,#0
	BRNZP	CONT

NULL	ADD	R5,R5,#1
	AND	R3,R3,#0	
	STR	R3,R2,#0
	BRNZP	CONT

FINE	ADD	R0,R6,#0
	ADD	R1,R5,#0
	ADD	R2,R4,#0
	LD	R3,BK3
	LD	R4,BK4
	LD	R5,BK5
	LD	R6,BK6
	RET
	

BK3	.BLKW	1
BK4	.BLKW	1
BK5	.BLKW	1
BK6	.BLKW	1
; fine subp
	.END